import{j as e,c as P,u as M,a as k,r as u,s as v,b as I}from"./index-C8fnQOv3.js";import{B as f}from"./Button.component-BRnAgrQx.js";const D="_card_745se_1",E={card:D},y=({children:a,className:s})=>e.jsx("div",{className:P([E.card,s]),children:a}),F=()=>{const a=M(),{funds:s,inventory:r,level:i,machines:n,priceNail:t,priceMachine:o,stock:c,total:l}=k(),[d,N]=u.useState(10),x=u.useRef(0),_=()=>{c<1||(a({funds:s,inventory:r+1,level:i,machines:n,priceNail:t,priceMachine:o,stock:c-1,total:l+1}),x.current+=1)},j=()=>{s>=d&&a({funds:s-d,inventory:r,level:i,machines:n,priceNail:t,priceMachine:o,stock:c+1e3,total:l})},b=()=>{s>=o&&a({funds:s-o,inventory:r,level:i,machines:n+1,priceNail:t,priceMachine:o+.35*n,stock:c,total:l})};return u.useEffect(()=>{const m=setInterval(()=>{if(c>=n){const h=n;a({funds:s,inventory:r+h,level:i,machines:n,priceNail:t,priceMachine:o,stock:c-h,total:l+h}),x.current=n}},1e3);return()=>clearInterval(m)},[r,n,c,l]),u.useEffect(()=>{const m=setInterval(()=>{const h=parseFloat((Math.random()*9.5+.5).toFixed(2));N(h)},5e3);return()=>clearInterval(m)},[]),u.useEffect(()=>{const m=setInterval(()=>{x.current=0},1e3);return()=>clearInterval(m)},[]),e.jsxs(y,{children:[e.jsx("h2",{children:"Manufacturing"}),e.jsxs("p",{children:["Rendement par seconde : ",x.current]}),e.jsx(f,{className:v.button,onClick:_,children:"Fabriquer clou"}),e.jsxs("p",{children:["Plaques d'acier : ",c]}),e.jsxs("p",{children:["Prix par plaque : ",d.toFixed(2)," €"]}),e.jsx("div",{children:e.jsx(f,{className:v.button,disabled:s<d,onClick:j,children:"Acheter acier"})}),i>=2?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Machines automatiques : ",n]}),e.jsx(f,{className:v.button,onClick:b,disabled:c===0||s<o,children:"Acheter machine"}),e.jsxs("p",{children:["Prix par machine : ",o," €"]})]}):null]})},S="_total_kh9cr_1",g={total:S},q=()=>{const{t:a}=I(),{total:s}=k();return e.jsxs("h1",{className:g.total,children:[a("game.title")," ",s]})},B=()=>{const a=M(),{funds:s,inventory:r,level:i,machines:n,priceNail:t,priceMachine:o,stock:c,total:l}=k(),[d,N]=u.useState(100),x=()=>{a({funds:s,inventory:r,level:i,machines:n,priceNail:Math.min(t+.01,1),priceMachine:o,stock:c,total:l})},_=()=>{a({funds:s,inventory:r,level:i,machines:n,priceNail:Math.max(t-.01,.01),priceMachine:o,stock:c,total:l})};return u.useEffect(()=>{const j=Math.max(0,100-t*50);N(j)},[t]),u.useEffect(()=>{const j=setInterval(()=>{const b=r,m=d/100,h=b*m*2,C=Math.min(b,h);a({funds:s+C*t,inventory:r-C,level:i,machines:n,priceNail:t,priceMachine:o,stock:c,total:l})},900);return()=>clearInterval(j)},[r,s,d,t]),e.jsxs(y,{children:[e.jsx("h2",{children:"Business"}),e.jsxs("p",{children:["Fonds disponibles : ",s.toFixed(2)," €"]}),e.jsxs("p",{children:["Inventaire invendu : ",r]}),e.jsxs("p",{children:["Public Demande : ",d," %"]}),e.jsxs("div",{children:[e.jsx(f,{className:v.button,onClick:_,children:"Lower"}),e.jsx(f,{className:v.button,onClick:x,children:"Raise"})]}),e.jsxs("p",{children:["Price per nail : ",t," €"]})]})},G="_dashboard_1uitr_1",R="_columns_1uitr_6",w="_column_1uitr_6",p={dashboard:G,columns:R,column:w};function T(){return e.jsxs("div",{className:p.dashboard,children:[e.jsx(q,{}),e.jsxs("div",{className:p.columns,children:[e.jsxs("div",{className:p.column,children:[e.jsx(B,{}),e.jsx(F,{})]}),e.jsx("div",{className:p.column}),e.jsx("div",{className:p.column}),e.jsx("div",{className:p.column})]})]})}export{T as default};
